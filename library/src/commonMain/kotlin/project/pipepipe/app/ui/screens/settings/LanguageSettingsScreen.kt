package project.pipepipe.app.ui.screens.settings

import androidx.compose.runtime.*
import androidx.compose.ui.Modifier
import dev.icerock.moko.resources.compose.stringResource
import dev.icerock.moko.resources.desc.StringDesc
import project.pipepipe.app.MR
import project.pipepipe.app.helper.LanguageHelper.sharedLanguageEntries
import project.pipepipe.app.helper.LanguageHelper.sharedLanguageValues

@Composable
fun LanguageSettingsScreen(
    modifier: Modifier = Modifier
) {
    val appLanguageTitle = stringResource(MR.strings.app_language_title)
    val contentCountryTitle = stringResource(MR.strings.default_content_country_title)
    val preferredAudioLanguageTitle = stringResource(MR.strings.preferred_audio_language_title)
    val preferredCaptionLanguageTitle = stringResource(MR.strings.preferred_caption_language_title)
    val systemDefault = stringResource(MR.strings.systems_language)

    val appLanguageEntries = listOf(
        systemDefault,
        "Basa Acèh",
        "العربية",
        "العربية (ليبيا)",
        "Azərbaycan dili",
        "Asturianu",
        "Беларуская",
        "ⵜⴰⵎⴰⵣⵉⵖⵜ",
        "български език",
        "বাংলা",
        "বাংলা (বাংলাদেশ)",
        "বাংলা (भারत)",
        "Català",
        "کوردیی سۆرانی",
        "Čeština",
        "Dansk",
        "Deutsch",
        "Ελληνικά",
        "English",
        "Esperanto",
        "Español",
        "Eesti keel",
        "Euskara",
        "فارسی",
        "Suomen kieli",
        "Wikang Filipino",
        "Français",
        "Galego",
        "עברית",
        "हिन्दी",
        "Hrvatski",
        "magyar",
        "Հայերեն",
        "Interlingua",
        "Bahasa Indonesia",
        "Italiano",
        "日本語",
        "ꦧꦱꦗꦮ",
        "Taqbaylit",
        "Kurmancî",
        "한국어",
        "کوردی",
        "Lietuvių kalba",
        "македонски јазик",
        "Bahasa Melayu",
        "Norsk bokmål",
        "नेपाली",
        "Nederlands (NL)",
        "Nederlands (BE)",
        "Occitan",
        "ਪੰਜਾਬੀ",
        "Polski",
        "Português",
        "Português (BR)",
        "Português (PT)",
        "Română",
        "русский язык",
        "ᱥᱟᱱᱛᱟᱲᱤ",
        "sardu",
        "Slovenčina",
        "Slovenščina",
        "Soomaali",
        "Shqip",
        "Српски",
        "Svenska",
        "தமிழ்",
        "తెలుగు",
        "ไทย",
        "Türkçe",
        "Tamaziɣt",
        "українська мова",
        "اردو",
        "O‘zbek",
        "Tiếng Việt",
        "简体中文",
        "繁體中文（廣東話）",
        "正體中文"
    )
    val appLanguageValues = listOf(
        "system",
        "ace",
        "ar",
        "ar-ly",
        "az",
        "ast",
        "be",
        "ber",
        "bg",
        "bn",
        "bn-bd",
        "bn-in",
        "ca",
        "ckb",
        "cs",
        "da",
        "de",
        "el",
        "en",
        "eo",
        "es",
        "et",
        "eu",
        "fa",
        "fi",
        "fil",
        "fr",
        "gl",
        "he",
        "hi",
        "hr",
        "hu",
        "hy",
        "ia",
        "in",
        "it",
        "ja",
        "jv",
        "kab",
        "kmr",
        "ko",
        "ku",
        "lt",
        "mk",
        "ms",
        "nb-no",
        "ne",
        "nl",
        "nl-be",
        "oc",
        "pa",
        "pl",
        "pt",
        "pt-br",
        "pt-pt",
        "ro",
        "ru",
        "sat",
        "sc",
        "sk",
        "sl",
        "so",
        "sq",
        "sr",
        "sv",
        "ta",
        "te",
        "th",
        "tr",
        "tzm",
        "uk",
        "ur",
        "uz",
        "vi",
        "zh-cn",
        "zh-hk",
        "zh-tw"
    )

    val contentCountryEntries = listOf(
        systemDefault,
        "Afghanistan",
        "Aland Islands",
        "Albania",
        "Algeria",
        "American Samoa",
        "Andorra",
        "Angola",
        "Anguilla",
        "Antartica",
        "Antigua and Barbuda",
        "Argentina",
        "Armenia",
        "Aruba",
        "Australia",
        "Austria",
        "Azerbaijan",
        "Bahamas",
        "Bahrain",
        "Bangladesh",
        "Barbados",
        "Belarus",
        "Belgium",
        "Belize",
        "Benin",
        "Bermuda",
        "Bhutan",
        "Bolivia",
        "Bosnia and Herzegovina",
        "Botswana",
        "Bouvet Island",
        "Brazil",
        "British Virgin Islands",
        "British Indian Ocean Territory",
        "Brunei Darussalam",
        "Bulgaria",
        "Burkina Faso",
        "Burundi",
        "Cambodia",
        "Cameroon",
        "Canada",
        "Cape Verde",
        "Cayman Islands",
        "Central African Republic",
        "Chad",
        "Chile",
        "China",
        "Hong Kong (China)",
        "Macao (China)",
        "Christmas Island",
        "Cocos (Keeling) Islands",
        "Colombia",
        "Comoros",
        "Brazzaville (Congo)",
        "Kinshasa (Congo)",
        "Cook Islands",
        "Costa Rica",
        "Côte d'Ivoire",
        "Croatia",
        "Cuba",
        "Cyprus",
        "Czech Republic",
        "Denmark",
        "Djibouti",
        "Dominica",
        "Dominican Republic",
        "Ecuador",
        "Egypt",
        "El Salvador",
        "Equatorial Guinea",
        "Eritrea",
        "Estonia",
        "Ethiopia",
        "Falkland Islands (Malvinas)",
        "Faroe Islands",
        "Fiji",
        "Finland",
        "France",
        "French Guiana",
        "French Polynesia",
        "French Southern Territories",
        "Gabon",
        "Gambia",
        "Georgia",
        "Germany",
        "Ghana",
        "Gibraltar",
        "Greece",
        "Greenland",
        "Grenada",
        "Guadeloupe",
        "Guam",
        "Guatemala",
        "Guernsey",
        "Guinea",
        "Guinea-Bissau",
        "Guyana",
        "Haiti",
        "Heard and McDonald Islands",
        "Holy See (Vatican City State)",
        "Honduras",
        "Hungary",
        "Iceland",
        "India",
        "Indonesia",
        "Iran",
        "Iraq",
        "Ireland",
        "Isle of Man",
        "Israel",
        "Italy",
        "Jamaica",
        "Japan",
        "Jersey",
        "Jordan",
        "Kazakhstan",
        "Kenya",
        "Kiribati",
        "North Korea",
        "South Korea",
        "Kuwait",
        "Kyrgyzstan",
        "Lao",
        "Latvia",
        "Lebanon",
        "Lesotho",
        "Liberia",
        "Libya",
        "Liechtenstein",
        "Lithuania",
        "Luxembourg",
        "Macedonia",
        "Madagascar",
        "Malawi",
        "Malaysia",
        "Maldives",
        "Mali",
        "Malta",
        "Marshall Islands",
        "Martinique",
        "Mauritania",
        "Mauritius",
        "Mayotte",
        "Mexico",
        "Micronesia",
        "Moldova",
        "Monaco",
        "Mongolia",
        "Montenegro",
        "Montserrat",
        "Morocco",
        "Mozambique",
        "Myanmar",
        "Namibia",
        "Nauru",
        "Nepal",
        "Netherlands",
        "Netherlands Antilles",
        "New Caledonia",
        "New Zealand",
        "Nicaragua",
        "Niger",
        "Nigeria",
        "Niue",
        "Norfolk Island",
        "Northern Mariana Islands",
        "Norway",
        "Oman",
        "Pakistan",
        "Palau",
        "Palestine",
        "Panama",
        "Papua New Guinea",
        "Paraguay",
        "Peru",
        "Philippines",
        "Pitcairn",
        "Poland",
        "Portugal",
        "Puerto Rico",
        "Qatar",
        "Réunion",
        "Romania",
        "Russian Federation",
        "Rwanda",
        "Saint Barthélemy",
        "Saint Helena",
        "Saint Kitts and Nevis",
        "Saint Lucia",
        "Saint Martin",
        "Saint Pierre and Miquelon",
        "Saint Vincent and Grenadines",
        "Samoa",
        "San Marino",
        "Sao Tome and Principe",
        "Saudi Arabia",
        "Senegal",
        "Serbia",
        "Seychelles",
        "Sierra Leone",
        "Singapore",
        "Slovakia",
        "Slovenia",
        "Solomon Islands",
        "Somalia",
        "South Africa",
        "South Georgia and South Sandwich Islands",
        "South Sudan",
        "Spain",
        "Sri Lanka",
        "Sudan",
        "Suriname",
        "Svalbard and Jan Mayen Islands",
        "Swaziland",
        "Sweden",
        "Switzerland",
        "Syrian Arab Republic (Syria)",
        "Taiwan",
        "Tajikistan",
        "Tanzania",
        "Thailand",
        "Timor Leste",
        "Togo",
        "Tokelau",
        "Tonga",
        "Trinidad and Tobago",
        "Tunisia",
        "Turkey",
        "Turkmenistan",
        "Turks and Caicos Islands",
        "Tuvalu",
        "Uganda",
        "Ukraine",
        "United Arab Emirates",
        "United Kingdom",
        "United States",
        "Minor Outlying Islands",
        "Uruguay",
        "Uzbekistan",
        "Vanuatu",
        "Venezuela (Bolivarian Republic)",
        "Vietnam",
        "Virgin Islands",
        "Wallis and Futuna Islands",
        "Western Sahara",
        "Yemen",
        "Zambia",
        "Zimbabwe"
    )
    val contentCountryValues = listOf(
        "system",
        "AF", "AX", "AL", "DZ", "AS", "AD", "AO", "AI", "AQ", "AG", "AR", "AM", "AW", "AU", "AT", "AZ",
        "BS", "BH", "BD", "BB", "BY", "BE", "BZ", "BJ", "BM", "BT", "BO", "BA", "BW", "BV", "BR", "VG",
        "IO", "BN", "BG", "BF", "BI", "KH", "CM", "CA", "CV", "KY", "CF", "TD", "CL", "CN", "HK", "MO",
        "CX", "CC", "CO", "KM", "CG", "CD", "CK", "CR", "CI", "HR", "CU", "CY", "CZ", "DK", "DJ", "DM",
        "DO", "EC", "EG", "SV", "GQ", "ER", "EE", "ET", "FK", "FO", "FJ", "FI", "FR", "GF", "PF", "TF",
        "GA", "GM", "GE", "DE", "GH", "GI", "GR", "GL", "GD", "GP", "GU", "GT", "GG", "GN", "GW", "GY",
        "HT", "HM", "VA", "HN", "HU", "IS", "IN", "ID", "IR", "IQ", "IE", "IM", "IL", "IT", "JM", "JP",
        "JE", "JO", "KZ", "KE", "KI", "KP", "KR", "KW", "KG", "LA", "LV", "LB", "LS", "LR", "LY", "LI",
        "LT", "LU", "MK", "MG", "MW", "MY", "MV", "ML", "MT", "MH", "MQ", "MR", "MU", "YT", "MX", "FM",
        "MD", "MC", "MN", "ME", "MS", "MA", "MZ", "MM", "NA", "NR", "NP", "NL", "AN", "NC", "NZ", "NI",
        "NE", "NG", "NU", "NF", "MP", "NO", "OM", "PK", "PW", "PS", "PA", "PG", "PY", "PE", "PH", "PN",
        "PL", "PT", "PR", "QA", "RE", "RO", "RU", "RW", "BL", "SH", "KN", "LC", "MF", "PM", "VC", "WS",
        "SM", "ST", "SA", "SN", "RS", "SC", "SL", "SG", "SK", "SI", "SB", "SO", "ZA", "GS", "SS", "ES",
        "LK", "SD", "SR", "SJ", "SZ", "SE", "CH", "SY", "TW", "TJ", "TZ", "TH", "TL", "TG", "TK", "TO",
        "TT", "TN", "TR", "TM", "TC", "TV", "UG", "UA", "AE", "GB", "US", "UM", "UY", "UZ", "VU", "VE",
        "VN", "VI", "WF", "EH", "YE", "ZM", "ZW"
    )




    // Preferred audio language entries (from settings_keys.xml)
    val audioLanguageEntries = listOf(
        stringResource(MR.strings.original),
    ) + sharedLanguageEntries

    val audioLanguageValues = listOf(
        "original",
    ) + sharedLanguageValues

    val preferenceItems = listOf(
        PreferenceItem.ListPref(
            key = "app_language_key",
            title = appLanguageTitle,
            entries = appLanguageEntries,
            entryValues = appLanguageValues,
            defaultValue = "system",
            onValueChange = { newValue ->
                if (newValue != "system") {
                    StringDesc.localeType = StringDesc.LocaleType.Custom(newValue)
                } else {
                    StringDesc.localeType = StringDesc.LocaleType.System
                }
            }
        ),
        PreferenceItem.ListPref(
            key = "preferred_audio_language_key",
            title = preferredAudioLanguageTitle,
            entries = audioLanguageEntries,
            entryValues = audioLanguageValues,
            defaultValue = "original"
        ),
//        PreferenceItem.ListPref(
//            key = "preferred_subtitle_language_key",
//            title = preferredCaptionLanguageTitle,
//            entries = sharedLanguageEntries,
//            entryValues = sharedLanguageValues,
//            defaultValue = "en"
//        ),
        PreferenceItem.ListPref(
            key = "content_country",
            title = contentCountryTitle,
            entries = contentCountryEntries,
            entryValues = contentCountryValues,
            defaultValue = "system"
        ),
    )

    PreferenceScreen(
        title = stringResource(MR.strings.settings_section_language),
        items = preferenceItems,
        modifier = modifier
    )
}
